name: Generate Snake

on:
  # Это расписание: робот будет запускаться каждый день в полночь.
  schedule:
    - cron: "0 0 * * *"
  # Эта строчка позволяет запустить робота вручную в любой момент.
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      # Шаг 1: Робот "скачивает" твой репозиторий, чтобы работать с ним
      - uses: actions/checkout@v2
      
      # Шаг 2: Главная магия. Запускается программа, которая рисует змейку
      - uses: Platane/snk@v2
        with:
          # Указываем, для какого пользователя GitHub рисовать змейку
          github_user_name: tokagaz-vs

          # Указываем, куда сохранить готовую картинку.
          # Он создаст папку 'dist' и положит картинку туда.
          outputs: |
            dist/github-contribution-grid-snake.svg
            dist/github-contribution-grid-snake-dark.svg?palette=github-dark

          # === ТВОИ ЦВЕТА ДЛЯ ЗМЕЙКИ ===
          color_snake: "#F72585"
          color_dots: "#fad1e8,#f8b4d9,#f58dc3,#f266ad,#F72585"

      # Шаг 3: Робот сохраняет созданную картинку обратно в твой репозиторий
      - name: Push to repo
        run: |
          git config --global user.name 'github-actions[bot]'
          git config --global user.email 'github-actions[bot]@users.noreply.github.com'
          git add .
          git commit -m "Generate Contribution Snake" || exit 0
          git push
